{"version":3,"sources":["pages/auth/Login/Login.jsx","pages/auth/Register/Register.jsx","Shared_Components/NavBar.jsx","Shared_Components/Sidebar/Sidebar.jsx","Shared_Components/Post/Post.jsx","Shared_Components/Comment/Comment.jsx","Shared_Components/ProfilePreview/ProfilePreview.jsx","Shared_Components/Feed/Feed.jsx","Shared_Components/Follow/Follow.jsx","Shared_Components/Block/Block.jsx","user_info/Profile/Profile.jsx","user_info/Profile/EditProfile.jsx","error_pages/NotFound.jsx","error_pages/Blocked.jsx","pages/post_info/CreatePost/CreatePost.jsx","user_info/SavedPosts/SavedPosts.jsx","pages/post_info/CommentCreator/CommentCreator.jsx","pages/post_info/PostPage/PostPage.jsx","pages/post_info/Topics/TopicPage.jsx","pages/post_info/Timeline/Timeline.jsx","user_info/Settings/Settings.jsx","user_info/BlockedUsers/BlockedUsers.jsx","Chat/Message.jsx","Chat/ChatDisplay.jsx","Chat/Chat.jsx","index.js"],"names":["Login","useState","loginName","updateLoginName","password","updatePassword","errorMessage","updateErrorMessage","errObject","ErrorBubble","message","className","src","alt","value","onChange","e","target","type","onClick","event","preventDefault","isFormValid","body","username","fetch","method","headers","JSON","stringify","then","response","json","data","error_message","access_token","refresh_token","console","log","localStorage","setItem","window","location","catch","err","error","alert","onSubmit","href","firstName","updateFirstName","lastName","updateLastName","email","updateEmail","confirmPassword","updateConfirmPassword","isOverThirteen","updateAgeCheck","checked","length","NavBar","searchString","updateSearchString","searchType","updateSearchType","rel","integrity","crossOrigin","Navbar","expand","bg","variant","Brand","width","height","Nav","Link","id","search_string","search_type","msg","search","Sidebar","React","xPosition","setX","useEffect","style","transform","getItem","clear","logout","Post","postId","userName","isMinimized","redesign","postdata","setPostData","saveCheck","setSaved","voteCheck","setVoted","votes","setVotes","endpoint","score","post_id","saved","voted","topic_name","date_created","post_type","pic_path","title","content","creator","isUpvoted","isDownVoted","text","author","isSaved","savePost","vote","bookmarkFill","isUpvotedFlag","isDownVotedFlag","containerClass","VerticalVoteBar","upvoteClick","downvoteClick","BookmarkIcon","fill","PostComponent","post","voteState","upVoteFill","downVoteFill","VoteArrowIcon","viewBox","xmlns","d","Comment","commentId","commentdata","setCommentData","comment_id","user_parent","profileLink","openedClassName","triggerClassName","triggerOpenedClassName","trigger","class","fontSize","color","BlockedUsers","profile_link","Feed","route","topic","elementType","reloadFlag","postData","postsContent","setPostsContent","currentPage","setCurrentPage","pageCount","setPageCount","perPage","start","end","post_ids","pull_list","rowCount","Math","ceil","tester","forEach","identifier","push","key","previousLabel","nextLabel","marginPagesDisplayed","pageRangeDisplayed","onPageChange","selectedPage","selected","containerClassName","subContainerClassName","activeClassName","Follow","followType","toFollow","initialState","refresh","followed","setFollowed","followpoint","follow","following","followState","Block","toBlock","blocked","setBlocked","block","user_blocked","blockState","Profile","pageUsername","useParams","userData","setUserData","contentView","setContentView","refreshFlag","updateRefreshFlag","logged_in","UserInfo","UserPosts","user_bio","user_pic","follower_count","following_count","topic_count","first_name","last_name","date_joined","ProfilePicture","EditProfileButton","ProfileActionButtons","setRoute","element","setElem","EditProfile","bio","updateBio","successMessage","updateSuccessMessage","image","saveImage","updateToken","onload","isLoggedIn","firstname","lastname","biocontent","formData","FormData","lastImg","append","name","succObject","SuccessBubble","crossorigin","sticky","withIcon","imgExtension","maxFileSize","buttonText","NotFound","Blocked","Timeline","postContent","updatePostContent","postTitle","updatePostTitle","postTopic","updatePostTopic","isAnon","updateIsAnon","successObject","anon","SavedPosts","CommentCreator","reload","commentContent","updateCommentContent","pagePost","updateReloadFlag","TopicPosts","topicData","setTopicData","TimelinePosts","Settings","currPass","updateCurrPass","newPass","updateNewPass","newUser","updateNewUser","newEmail","updateNewEmail","deleteErrorMessage","updateDeleteErrorMessage","normalErrorMessage","updateNormalErrorMessage","deleteErrObject","normalErrObject","JSONbody","currentpass","newemail","newpass","newusername","privacy","UpdateSettings","DeleteAccount","messageId","messageData","setMessageData","receiver","ChatDisplay","sender","messageContent","setMessageContent","message_ids","user1","Chat","uploadChatMessage","setReceiver","isMessageValid","AppRouter","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e06bbfc.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./login.css\";\n\n//module.exports(isFormValid);\n//module.exports(Login);\n\nexport default function Login() {\n  const [loginName, updateLoginName] = useState(\"\");\n  const [password, updatePassword] = useState(\"\");\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (isFormValid({ loginName, password, updateErrorMessage })) {\n      const body = {\n        username: loginName,\n        password: password\n      }\n      /*\n       * post to backend\n       */\n      const endpoint = \"http://localhost:5000/login/\";\n      fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(data => {\n        if (data.error_message) {\n          updateErrorMessage(data.error_message);\n        } else {\n          const { access_token, refresh_token, username } = data;\n          console.log(access_token);\n          localStorage.setItem('data', data);\n          localStorage.setItem('access_token', access_token);\n          localStorage.setItem('refresh_token', refresh_token);\n          window.location = \"profile/\" + username;\n        }\n      }).catch(err => {\n        console.error(err);\n        alert(\"error: check console for details\");\n      });\n    }\n  }\n\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n\n  return (\n    <div>\n      <h1 className=\"login-page-title\">Join the conversation</h1>\n      <div className=\"login-container\">\n        <img src=\"./img/weave-icon.svg\" className=\"login-icon\" alt=\"\" />\n        <form className=\"login-form\">\n          <label className=\"login-form-label\">username/email</label>\n          <input\n            value={loginName}\n            onChange={e => {\n              updateLoginName(e.target.value);\n              updateErrorMessage(\"\");\n            }} className=\"login-form-input\"\n          />\n\n          <label className=\"login-form-label\">password</label>\n          <input\n            value={password}\n            onChange={e => {\n              updatePassword(e.target.value);\n              updateErrorMessage(\"\");\n            }}\n            type=\"password\"\n            className=\"login-form-input\" />\n          <button type=\"submit\" className=\"login-submit-btn\" onClick={(e) => onSubmit(e)}>login</button>\n\n        </form>\n        {errObject}\n        <a href=\"register\" className=\"login-link\">create an account</a>\n        <a href=\"profile/newuser2\" className=\"login-link\">forgot password</a>\n      </div>\n    </div>\n  )\n}\n\nfunction isFormValid({ loginName, password, updateErrorMessage }) {\n  if (loginName === \"\") {\n    updateErrorMessage(\"Please enter your username or email.\");\n  } else if (password === \"\") {\n    updateErrorMessage(\"Please enter your password.\");\n  } else {\n    return true;\n  }\n  return false;\n}\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"login-error-bubble\">\n      <p className=\"login-error-message\">{message}</p>\n    </div>\n  )\n}","import React, { useState } from \"react\";\nimport \"./register.css\";\n\n//module.exports(isFormValid);\n//module.exports(Login);\n\nexport default function Login() {\n  const [loginName, updateLoginName] = useState(\"\");\n  const [firstName, updateFirstName] = useState(\"\");\n  const [lastName, updateLastName] = useState(\"\");\n  const [email, updateEmail] = useState(\"\");\n  const [password, updatePassword] = useState(\"\");\n  const [confirmPassword, updateConfirmPassword] = useState(\"\");\n  const [isOverThirteen, updateAgeCheck] = useState(false);\n\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (isFormValid({ loginName, firstName, lastName, password, confirmPassword, email, isOverThirteen,updateErrorMessage })) {\n      const body = {\n        username: loginName,\n        firstName: firstName,\n        lastName: lastName,\n        password: password,\n        email: email,\n      }\n      /*\n       * post to backend\n       */\n      const endpoint = \"http://localhost:5000/register/\";\n      fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(data => {\n        if (data.error_message) {\n          updateErrorMessage(data.error_message);\n        } else {\n          const { access_token, refresh_token } = data;\n          localStorage.setItem('access_token', access_token);\n          localStorage.setItem('refresh_token', refresh_token);\n          window.location = \"profile/\" + loginName;\n        }\n      }).catch(err => {\n        console.error(err);\n        alert(\"error: check console for details\");\n      });\n    }\n  }\n\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n\n  return (\n    <div>\n      <h1 className=\"register-page-title\">Join the conversation</h1>\n      <div className=\"register-container\">\n        <img src=\"./img/weave-icon.svg\" className=\"register-icon\" alt=\"\" />\n        <form className=\"register-form\">\n          <label className=\"register-form-label\">Username</label>\n          <input\n            value={loginName}\n            onChange={e => {\n              updateLoginName(e.target.value);\n              updateErrorMessage(\"\");\n            }} className=\"register-form-input\"\n          />\n\n          <label className=\"register-form-label\">First Name</label>\n          <input\n            value={firstName}\n            onChange={e => {\n              updateFirstName(e.target.value);\n              updateErrorMessage(\"\");\n            }} className=\"register-form-input\"\n          />\n\n          <label className=\"register-form-label\">Last Name</label>\n          <input\n            value={lastName}\n            onChange={e => {\n              updateLastName(e.target.value);\n              updateErrorMessage(\"\");\n            }} className=\"register-form-input\"\n          />\n          \n          <label className=\"register-form-label\">Email</label>\n          <input\n            value={email}\n            onChange={e => {\n              updateEmail(e.target.value);\n              updateErrorMessage(\"\");\n            }} className=\"register-form-input\"\n          />\n\n          <label className=\"register-form-label\">Password</label>\n          <input\n            value={password}\n            onChange={e => {\n              updatePassword(e.target.value);\n              updateErrorMessage(\"\");\n            }}\n            type=\"password\"\n            className=\"register-form-input\" />\n\n          <label className=\"register-form-label\">Confirm Password</label>\n          <input\n            value={confirmPassword}\n            onChange={e => {\n              updateConfirmPassword(e.target.value);\n              updateErrorMessage(\"\");\n            }}\n            type=\"password\"\n            className=\"register-form-input\"\n          />\n\n          <input\n            className=\"register-checkbox\"\n            type=\"checkbox\"\n            checked={isOverThirteen}\n            onChange={e => {\n              updateAgeCheck(!isOverThirteen);\n              updateErrorMessage(\"\");\n            }}\n          />\n          <label className=\"register-checkbox-label\">I am 13 years old or older</label>\n\n\n          <button type=\"submit\" className=\"register-submit-btn\" onClick={(e) => onSubmit(e)}>create account</button>\n\n        </form>\n        {errObject}\n        <a href=\"login\" className=\"register-link\">existing user login</a>\n      </div>\n    </div>\n  )\n}\n\nfunction isFormValid({ loginName, firstName, lastName, password, confirmPassword, isOverThirteen, email, updateErrorMessage }) {\n  if (loginName === \"\") {\n    updateErrorMessage(\"Please enter a username.\");\n  } else if (firstName === \"\") {\n    updateErrorMessage(\"Please enter your first name.\");\n  } else if (lastName === \"\") {\n    updateErrorMessage(\"Please enter your last name.\");\n  } else if (email === \"\") {\n    updateErrorMessage(\"Please enter your email.\");\n  } else if (password === \"\") {\n    updateErrorMessage(\"Please enter a password.\");\n  } else if (password !== confirmPassword) {\n    updateErrorMessage(\"The passwords do not match.\")\n  }\telse if (password.length < 6) {\n\tupdateErrorMessage(\"Password should be 6 character minimum.\")\n  } else if (!isOverThirteen) {\n    updateErrorMessage(\"You must be 13 or older to join Weave.\")\n  } else {\n    return true;\n  }\n  return false;\n}\n\n//module.exports(isFormValid);\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"register-error-bubble\">\n      <p className=\"register-error-message\">{message}</p>\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem } from 'react-bootstrap';\nimport \"./navbar.css\";\n\nexport default function NavBar() {\n\t\n  const [searchString, updateSearchString] = useState(\"\");\n  const [searchType, updateSearchType] = useState(\"profiles\");\n  \n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n  \n  const search = () => {\n\t\n\tupdateErrorMessage(\"\");\n\t\n\tconst body = {\n      search_string: searchString,\n      search_type: searchType,\n    }\t\n\t\n\tfetch('http://localhost:5000/search/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n\t  body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      //TODO- check what data.msg does\n      const errorMessage = data.error_message || data.msg;\n      if (!data.error_message) {\n        if (searchType == \"profiles\") {\n\t\t  window.location = \"/profile/\" + searchString;\n\t\t}\n\t\telse {\n\t\t  window.location = \"/topic/\" + searchString;\n\t\t}\n      }\n\t  else {\n\t    updateErrorMessage(\"No Results.\");\n\t  }\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  \n  return (\n    <div>\n      {/* Bootstrap Stylesheet */}\n      <link\n        rel=\"stylesheet\"\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\n        crossOrigin=\"anonymous\"\n      />\n      {/* Navbar */}\n      <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\">\n        <Navbar.Brand href=\"/timeline\">\n          <img src=\"/img/weave-icon.svg\" width=\"50\" height=\"50\"\n            className=\"d-inline-block align-top\" alt=\"\" />\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link>Messages</Nav.Link>\n          <Nav.Link>Notifications</Nav.Link>\n          <Nav.Link>Help</Nav.Link>\n\t\t  <input \n\t\t\tvalue={searchString}\n\t\t\tonChange={e => {\n\t\t\t\tupdateSearchString(e.target.value);\n\t\t\t}}\n\t\t  />\n\t\t  <select id=\"type\" onChange={e => {updateSearchType(e.target.value)}}>\n\t\t\t<option value=\"profiles\">profiles</option>\n\t\t\t<option value=\"topics\">topics</option>\n\t\t  </select>\n\t\t  <button  onClick={(e) => search()}>Search</button>\n\t\t  {errObject}\n        </Nav>\n      </Navbar>\n    </div>\n  )\n  //return CustomNavbar();\n}\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"comment-error-bubble\">\n      <p className=\"comment-error-message\">{message}</p>\n    </div>\n  )\n}\n","import React, { useEffect } from \"react\";\nimport \"./sidebar.css\";\n\nexport default function Sidebar() {\n  const [xPosition, setX] = React.useState(-180);\n\n  useEffect(() => {\n    setX(0);\n  }, []);\n\n  const toggleMenu = () => {\n    if (xPosition < 0) {\n      setX(0);\n    } else {\n      setX(-180);\n    }\n  };\n\n  //delete JWT token and refresh\n  const logout = () => {\n    const access_token = localStorage.getItem('access_token');\n    const logoutEndpoint = \"http://localhost:5000/logout\";\n    fetch(logoutEndpoint, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n    }).then(response => response.json()).then(data => {\n      const { refresh_token } = data;\n      const endpoint2 = \"http://localhost:5000/logout2\";\n      fetch(endpoint2, {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + refresh_token\n        },\n      }).then(response => response.json()).then(data => {\n        localStorage.clear(\"access_token\");\n        localStorage.clear(\"refresh_token\");\n        window.location = \"../\"\n      }).catch(err => {\n        console.error(err);\n        alert(\"error: check console for details\");\n      });\n    }).catch(err => {\n      console.error(err);\n      alert(\"error: check console for details\");\n    });\n\n  };\n\n  return (\n    <div className=\"sidebar-wrapper\">\n      <div\n        className=\"sidebar\"\n        style={{ transform: `translatex(${xPosition}px)` }}\n      >\n        <button\n          onClick={() => toggleMenu()}\n          className=\"profile-toggle-menu\"\n          style={{\n            transform: `translate(${180}px, 20vh)`\n          }}\n        ></button>\n        <div className=\"side-bar-menu\">\n          {/* These need to link to actual pages eventually */}\n          <h1 className=\"side-bar-heading\">Explore your web:</h1>\n          <a href=\"/timeline\" className=\"side-bar-selection\">Your timeline</a> <br />\n          <a href=\"/profile/\" className=\"side-bar-selection\">Profile</a> <br />\n          <a href=\"/createpost\" className=\"side-bar-selection\">Create a post</a> <br />\n          <a href=\"/savedposts\" className=\"side-bar-selection\">Saved posts</a> <br />\n          <a href=\"/settings\" className=\"side-bar-selection\">Settings</a> <br />\n          <button className=\"side-bar-logout\" onClick={(e) => logout(e)}>Logout</button>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport Linkify from 'react-linkify';\n\nimport \"./post.css\";\n\nexport default function Post({\n  postId, userName, redesign, isMinimized\n}) {\n\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [postdata, setPostData] = useState([]);\n  {/* keeps track if user has saved or voted */ }\n  const [saveCheck, setSaved] = useState(0);\n  const [voteCheck, setVoted] = useState(0);\n  {/* current score of post */ }\n  const [votes, setVotes] = useState(0);\n\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  const endpoint = \"http://localhost:5000/post/\" + postId;\n  const statepoint = \"http://localhost:5000/poststates/\"\n\n  {/* renders the post with fetch data and the states of the save and voting buttons */ }\n  useEffect(() => {\n    fetch(endpoint, {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      setPostData(data);\n      const { score } = data;\n      setVotes(score);\n    }).catch(err => {\n      console.error(err);\n\n    });\n\n    const body = {\n      username: userName,\n      post_id: postId,\n    }\n\n    fetch(statepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      /* setStateData(data); */\n      const { saved, voted } = data;\n      setSaved(saved);\n      setVoted(voted);\n    }).catch(err => {\n      console.error(err);\n      alert(err);\n\n    });\n    setVoted(postdata.score);\n  }, [])\n\n  const { topic_name, date_created, post_type, pic_path: src, title, content, creator, score} = postdata;\n\n  {/* sends the votes to the server and receives the change in score */ }\n  const vote = (value) => {\n    setVoted(value);\n    const body = {\n      username: userName,\n      type: '1',\n      id: postId,\n      vote: value,\n    }\n    fetch(\"http://localhost:5000/vote/\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      // if (data.error_message) {\n      //   updateErrorMessage(data.error_message);\n      //   window.location = \"/404\"\n      // }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      const { score, voteState } = data;\n      setVotes(score);\n      setVoted(voteState);\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  {/* sends the saved/unsaved postId to the server */ }\n  const savePost = (value) => {\n    setSaved(value);\n    const body = {\n      username: userName,\n      post: postId,\n      type: value,\n    }\n    fetch(\"http://localhost:5000/save/\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      if (data.msg) {\n        window.location = \"/login\"\n      }\n    }).catch(err => {\n      console.error(err);\n\n    });\n  };\n\n  /**\n   * Save check and vote state should not be mutable states in React. Should be moved to post response\n   */\n\n  const postLink = \"/post/\" + postId;\n  const profileLink = \"/profile/\" + creator;\n  const topicLink = \"/topic/\" + topic_name;\n\n  return PostComponent({ author: creator, title, text: content, topic_name, score: votes, isSaved: saveCheck, savePost, voteCheck, vote, isMinimized, postId, src });\n\n}\n\nfunction PostComponent({ isUpvoted, isDownVoted, score, title, text, author, isSaved, savePost, voteCheck, vote, isMinimized, postId, src, topic_name }) {\n  const bookmarkFill = (isSaved == 1) ? \"red\" : \"rgba(225, 225, 225, 1)\";\n  const bookmarkClicked = () => {\n    console.log(isSaved);\n    if (isSaved == -1) {\n      savePost(1);\n    } else {\n      savePost(-1);\n    }\n  }\n  let isUpvotedFlag = voteCheck == 1;\n  let isDownVotedFlag = voteCheck == -1;\n  const upvote = () => {\n    vote(1);\n  }\n  const downvote = () => {\n    vote(-1);\n  }\n  const containerClass = isMinimized ? \"post-component-container post-component-container-collapsed\" : \"post-component-container\";\n  const onClick = () => {\n    if (isMinimized) {\n      window.location.href = \"/post/\" + postId;\n    }\n  }\n  return (\n    <div className={containerClass}>\n      <VerticalVoteBar\n        isUpvoted={isUpvotedFlag}\n        isDownVoted={isDownVotedFlag}\n        score={score}\n        upvoteClick={() => upvote()}\n        downvoteClick={() => downvote()}\n      />\n      <BookmarkIcon className=\"post-component-bookmark\" fill={bookmarkFill} onClick={() => bookmarkClicked()} />\n      <p className=\"post-component-topic\"><a href={\"/topic/\" + topic_name}> w/{topic_name}</a></p>\n      <div className=\"post-component-content\" onClick={() => onClick()}>\n        <p className=\"post-component-author\"><a href = {\"/profile/\" + author}> @{author}</a></p>\n        <h2 className=\"post-component-title\">{title}</h2>\n        <img src={src} className=\"post-component-image\" />\n\t\t<Linkify>\n\t\t\t<p className=\"post-component-content-text\">\n\t\t\t  {text}\n\t\t\t</p>\n\t\t</Linkify>\n      </div>\n    </div>\n  )\n}\n\nfunction VerticalVoteBar({ score, isUpvoted, isDownVoted, upvoteClick, downvoteClick }) {\n  const upVoteFill = isUpvoted ? \"#A866B9\" : \"#9C9C9C\";\n  const downVoteFill = isDownVoted ? \"#A866B9\" : \"#9C9C9C\";\n  return (\n    <div className=\"post-component-vertical-vote-bar\">\n      <div className=\"post-component-vertical-vote-container\">\n        <VoteArrowIcon\n          fill={upVoteFill}\n          className=\"post-component-vote-arrow-upvote\"\n          onClick={() => { upvoteClick() }}\n        />\n        <p className=\"post-component-score\">{score}</p>\n        <VoteArrowIcon\n          fill={downVoteFill}\n          className=\"post-component-vote-arrow-downvote\"\n          onClick={() => { downvoteClick() }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction VoteArrowIcon({ fill, className, onClick }) {\n\n  return (\n    <svg width=\"24\" height=\"14\" viewBox=\"0 0 24 14\" xmlns=\"http://www.w3.org/2000/svg\" className={className} onClick={() => onClick()}>\n      <path d=\"M10.9393 13.0607C11.5251 13.6464 12.4749 13.6464 13.0607 13.0607L22.6066 3.51472C23.1924 2.92893 23.1924 1.97919 22.6066 1.3934C22.0208 0.807611 21.0711 0.807611 20.4853 1.3934L12 9.87868L3.51472 1.3934C2.92893 0.807611 1.97919 0.807611 1.3934 1.3934C0.807611 1.97919 0.807611 2.92893 1.3934 3.51472L10.9393 13.0607ZM10.5 11V12H13.5V11H10.5Z\" fill={fill} />\n    </svg>\n  )\n}\n\nfunction BookmarkIcon({ fill, className, onClick }) {\n  return (\n\n    <svg viewBox=\"-58 0 404 404.54135\" width=\"404pt\" xmlns=\"http://www.w3.org/2000/svg\" className={className} onClick={() => onClick()}>\n      <path d=\"m277.527344 0h-267.257813c-5.523437 0-10 4.476562-10 10v374.527344c-.011719 7.503906 4.183594 14.378906 10.855469 17.804687 6.675781 3.429688 14.707031 2.832031 20.796875-1.550781l111.976563-80.265625 111.976562 80.269531c6.097656 4.367188 14.121094 4.960938 20.792969 1.535156 6.667969-3.425781 10.863281-10.292968 10.863281-17.792968v-374.527344c0-5.523438-4.480469-10-10.003906-10zm0 0\" fill={fill}  />\n    </svg>\n  )\n}","import React, { useState, useEffect } from \"react\";\nimport Collapsible from 'react-collapsible';\n\nimport \"./comment.css\";\n\nexport default function Comment({\n  commentId, userName\n}) {\n\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [commentdata, setCommentData] = useState([]);\n  {/* keeps track if user has saved or voted */ }\n  const [voteCheck, setVoted] = useState(0);\n  {/* current score of post */ }\n  const [votes, setVotes] = useState(0);\n\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  const endpoint = \"http://localhost:5000/comment/\" + commentId;\n  const votepoint = \"http://localhost:5000/vote/\"\n  const statepoint = \"http://localhost:5000/commentstates/\"\n\n  {/* renders the post with fetch data and the states of the save and voting buttons */ }\n  useEffect(() => {\n    fetch(endpoint, {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      setCommentData(data);\n      const { score } = data;\n      setVotes(score);\n    }).catch(err => {\n      console.error(err);\n\n    });\n\n    const body = {\n      username: userName,\n      comment_id: commentId,\n    }\n\n    fetch(statepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      /* setStateData(data); */\n      const { voted } = data;\n      setVoted(voted);\n    }).catch(err => {\n      console.error(err);\n      alert(err);\n\n    });\n  }, [])\n\n  const { date_created, content, user_parent } = commentdata;\n\n  {/* sends the votes to the server and receives the change in score */ }\n  const vote = (value) => {\n    setVoted(value);\n    const body = {\n      username: userName,\n      type: '2',\n      id: commentId,\n      vote: value,\n    }\n    fetch(votepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      //if (data.error_message) {\n      //    updateErrorMessage(data.error_message);\n      //    window.location = \"/404\"\n      // }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      const { score, voteState } = data;\n      setVotes(score);\n      setVoted(voteState);\n    }).catch(err => {\n      console.error(err);\n\n    });\n  };\n\n  const profileLink = \"/profile/\" + user_parent;\n\n  return (\n    <div>\n      <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\n      <Collapsible className=\"comment-content-header\" openedClassName=\"comment-content-header-open\" triggerClassName=\"comment-trigger\" triggerOpenedClassName=\"comment-trigger-open\" trigger={user_parent}>\n        <div className=\"comment-content-container\">\n          <div className=\"comment-vote-container\">\n            {/* replace with upvote and downvote */}\n            {voteCheck > 0 ? (\n              <i class=\"fa fa-arrow-circle-up\" style={{ fontSize: '36px', color: 'red' }} onClick={() => vote(1, 0)} ></i>\n\n            ) : (\n                <i class=\"fa fa-arrow-circle-up\" style={{ fontSize: '36px' }} onClick={() => vote(1, 1)} ></i>\n              )}\n            <p className=\"post-vote-score\">{votes}</p>\n            {voteCheck < 0 ? (\n              <i class=\"fa fa-arrow-circle-down\" style={{ fontSize: '36px', color: 'red' }} onClick={() => vote(-1, 0)} ></i>\n            ) : (\n                <i class=\"fa fa-arrow-circle-down\" style={{ fontSize: '36px' }} onClick={() => vote(-1, -1)} ></i>\n              )}\n          </div>\n          <div className=\"comment-text-container\">\n            {/* align these better later */}\n            <p className=\"comment-text\"><a href={profileLink}>{user_parent}</a></p>\n            <p className=\"comment-text\">{date_created}</p>\n            <p className=\"comment-content\">{content}</p>\n          </div>\n        </div>\n      </Collapsible>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\n\nexport default function BlockedUsers({username}){\t\n  \n\tlet access_token = localStorage.getItem('access_token');\n\tif (!access_token) {\n\t\taccess_token = \"\";\n\t}\n\tlet profile_link = \"/profile/\" + username + \"/\";\n  \treturn (\n\t    <div>\n\t\t\t<a href={profile_link} >{username}</a> <br />\n\t\t</div>\n\t);\n\n}","import React, { useState, useEffect } from \"react\";\nimport Post from \"../../Shared_Components/Post/Post\";\nimport Comment from '../../Shared_Components/Comment/Comment';\nimport ProfilePreview from '../../Shared_Components/ProfilePreview/ProfilePreview';\nimport ReactPaginate from 'react-paginate';\n\nimport './Feed.css';\n\nexport default function Feed({ route, topic, post_id, username, elementType, reloadFlag }) {\n  const [postData, setPostData] = useState([]);\n  const [postsContent, setPostsContent] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [pageCount, setPageCount] = useState(0)\n  const [perPage] = useState(5);\n  let access_token = localStorage.getItem('access_token');\n  if (access_token == null) {\n    window.location = \"/login\"\n  }\n\n  useEffect(() => {\n    const endpoint = \"http://localhost:5000/\" + route\n    const offset = currentPage * perPage\n    const body = {\n      start: offset,\n      end: perPage,\n      topic: topic,\n      post_id: post_id,\n      username: username,\n    }\n    console.log(JSON.stringify(body));\n    fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      const { pull_list: post_ids, rowCount: rowCount } = data;\n      setPageCount(Math.ceil(rowCount / perPage))\n      setPostData(post_ids);\n      setCurrentPage(0)\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [route, reloadFlag]);\n\n  useEffect(() => {\n    const endpoint = \"http://localhost:5000/\" + route\n    console.log(endpoint)\n    const offset = currentPage * perPage\n    const body = {\n      start: offset,\n      end: perPage,\n      topic: topic,\n      post_id: post_id,\n      username: username,\n    }\n    fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      const { pull_list: post_ids, rowCount: rowCount } = data;\n      setPageCount(Math.ceil(rowCount / perPage))\n      setPostData(post_ids);\n    }).catch(err => {\n      console.log(err);\n      // alert(\"Error in console\");\n    });\n  }, [currentPage, reloadFlag]);\n\n  useEffect(() => {\n    let tester = [];\n    if (postData) {\n      postData.forEach((identifier) => {\n        console.log(identifier)\n        if (elementType == \"comment\") {\n          tester.push(<Comment key={identifier} commentId={identifier} userName={\"schikyal\"} />)\n        }\n\t\telse if (elementType == \"profile\") {\n\t\t  tester.push(<ProfilePreview username={identifier} />)\t\t\n\t\t}\n        else {\n          tester.push(<Post key={identifier} postId={identifier} userName={\"schikyal\"} redesign={true} isMinimized={true} />)\n        }\n      });\n      setPostsContent(tester);\n      if (postsContent.length === 0) {\n        tester = <p>No Content Yet!</p>;\n      }\n    }\n  }, [postData, reloadFlag])\n\n\n  const handlePageClick = (e) => {\n    const selectedPage = e.selected;\n    setCurrentPage(selectedPage);\n  };\n\n  return (\n    <div className=\"posts-display\">\n      {postsContent}\n      <ReactPaginate\n        previousLabel={\"<\"}\n        nextLabel={\">\"}\n        pageCount={pageCount}\n        marginPagesDisplayed={1}\n        pageRangeDisplayed={5}\n        onPageChange={handlePageClick}\n        containerClassName={\"pagination\"}\n        subContainerClassName={\"pages pagination\"}\n        activeClassName={\"active\"} />\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\n\nexport default function Follow({ followType, toFollow, initialState, className, refresh }) {\n  const [followed, setFollowed] = useState(initialState);\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n  \n  useEffect(() => {\n\t  setFollowed(initialState)\n\t  \n  }, [initialState]);\n  \n  const followpoint = \"http://localhost:5000/follow\" + followType + \"/\";\n  const follow = (value) => {\n    const body = {\n      following: toFollow,\n      type: value,\n    }\n    fetch(followpoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      const { followState } = data;\n      refresh();\n      setFollowed(followState);\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  return (\n    <div>\n      {followed == 0 ? (\n        <button type=\"button\" className={className} onClick={(e) => follow(1)}>Follow</button>\n      ) : (\n          <button type=\"button\" className={className} onClick={(e) => follow(-1)}>Unfollow</button>\n        )}\n    </div>\n  );\n\n\n\n\n}","import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\n\nexport default function Block({ toBlock, initialState, className, refresh }) {\n  const [blocked, setBlocked] = useState(initialState);\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n  \n  useEffect(() => {\n\t  setBlocked(initialState)\n\t  \n  }, [initialState]);\n  \n  const blockpoint = \"http://localhost:5000/blockuser/\";\n  const block = (value) => {\n    const body = {\n      user_blocked: toBlock,\n      type: value,\n    }\n    fetch(blockpoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      const { blockState } = data;\n      refresh();\n      setBlocked(blockState);\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  return (\n    <div>\n      {blocked == 0 ? (\n        <button type=\"button\" className={className} onClick={(e) => block(1)}>Block</button>\n      ) : (\n          <button type=\"button\" className={className} onClick={(e) => block(-1)}>Unblock</button>\n        )}\n    </div>\n  );\n\n\n\n\n}","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './profile.css';\n\n// import components\nimport NavBar from '../../Shared_Components/NavBar';\nimport Sidebar from '../../Shared_Components/Sidebar/Sidebar';\nimport Feed from \"../../Shared_Components/Feed/Feed\";\nimport Follow from \"../../Shared_Components/Follow/Follow\";\nimport Block from \"../../Shared_Components/Block/Block\";\n\nexport default function Profile() {\n  const { username: pageUsername } = useParams();\n  const [errorMessage, updateErrorMessage] = useState('');\n  const [userData, setUserData] = useState([]);\n  const [contentView, setContentView] = useState(0);\n  const [username, updateUsername] = useState(pageUsername);\n  const [refreshFlag, updateRefreshFlag] = useState(true);\n  // replace with API call to /secure to validate token\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n  // if (access_token == null) {\n  //   window.location = '/login';\n  // }\n\n  useEffect(() => {\n    if (!username && access_token !== \"\") {\n      fetch('http://localhost:5000/protected', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + access_token\n        },\n      }).then(response => response.json()).then(data => {\n        // updateUsername(data.logged_in);\n        window.location.href = \"/profile/\" + data.logged_in;\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (username) {\n      console.log(username);\n      fetch('http://localhost:5000/profile/' + username, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + access_token\n        },\n      }).then(response => response.json()).then(data => {\n        //TODO- check what data.msg does\n        const errorMessage = data.error_message || data.msg;\n        if (data.error_message == \"User does not exist\") {\n          window.location = \"/404\";\n        }\n        if (data.error_message == \"Blocked from content\") {\n          window.location = \"/blocked\";\n        }\n        setUserData(data);\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }, [username, refreshFlag]);\n\n  useEffect(() => {\n    // TODO - handle errors\n  }, [errorMessage]);\n\n  useEffect(() => {\n\n  }, [contentView])\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"profile-container\">\n        <Sidebar />\n        <UserInfo userData={userData} pageUsername={pageUsername} refresh={() => { updateRefreshFlag(!refreshFlag) }} />\n        <UserPosts pageUsername={pageUsername} setContentView={setContentView} contentView={contentView} />\n      </div>\n    </div>\n  );\n}\n\nfunction UserInfo({ userData, pageUsername, refresh }) {\n  const { user_bio, user_pic, follower_count, following_count, topic_count, first_name, last_name, date_joined, username, follow, block } = userData;\n  return (\n    <div className=\"profile-container\">\n      <div className=\"profile-info\">\n        <ProfilePicture user_pic={user_pic} />\n        <h1 className=\"profile-name\">{first_name + \" \" + last_name}</h1>\n        <p className=\"profile-username\">{pageUsername}</p>\n        <h1 className=\"profile-bio-title\">Bio</h1>\n        <p className=\"profile-bio\">{user_bio}</p>\n        <h1 className=\"profile-about-title\">Joined</h1>\n        <p className=\"profile-about\">{date_joined}</p>\n        <EditProfileButton pageUsername={pageUsername} username={username} follow={follow} block={block} refresh={() => refresh()} />\n        <p className=\"profile-followers\">{follower_count} Followers</p>\n        <p className=\"profile-following\">{following_count} Following</p>\n        <p className=\"profile-following\">{topic_count} Topics Following</p>\n      </div>\n    </div>\n  );\n}\n\nfunction EditProfileButton({ pageUsername, username, follow, block, refresh }) {\n  const canUserEditProfile = (username === pageUsername);\n  if (canUserEditProfile) {\n    return <button onClick={() => window.location.href = '/editprofile'} type=\"button\" className=\"profile-follow-button\">Edit Profile</button>;\n  }\n  return ProfileActionButtons({\n    pageUsername,\n    follow,\n    refresh,\n    block\n  });\n}\n\nfunction ProfileActionButtons({ pageUsername, follow, refresh, block }) {\n  return (\n    <div>\n      <Follow className=\"profile-follow-button\" followType=\"user\" toFollow={pageUsername} initialState={follow} refresh={() => { refresh() }} />\n      <Block className=\"profile-follow-button\" toBlock={pageUsername} initialState={block} refresh={() => { refresh() }} />\n    </div>\n  );\n}\n\nfunction ProfilePicture({ user_pic }) {\n  return user_pic == null ? (\n    <img src=\"/img/weave-icon.svg\" className=\"profile-icon\" alt=\"\" />\n  ) : (\n      <img src={user_pic} className=\"profile-icon\" alt=\"\" />\n    );\n}\n\nfunction UserPosts({ pageUsername, setContentView, contentView }) {\n\n  const [route, setRoute] = useState(\"userposts/\")\n  const [element, setElem] = useState(\"post\")\n\n  useEffect(() => {\n    if (contentView == 1) {\n      setRoute(\"usercomments/\")\n      setElem(\"comment\")\n    }\n    else {\n      setRoute(\"userposts/\")\n      setElem(\"post\")\n    }\n  }, [contentView])\n\n  return (\n    <div className=\"profile-choice\">\n      <div className=\"profile-buttons\">\n        <button type=\"button\" className=\"profile-posts-button\" onClick={(e) => setContentView(0)}>Posts</button>\n        <button type=\"button\" className=\"profile-interactions-button\" onClick={(e) => setContentView(1)}>Interactions</button>\n      </div>\n      <div className=\"profile-display\">\n        {/*{contentView === 0 ? (\n          <Feed route=\"userposts/\" username={pageUsername} />\n        ) : (\n            <Feed route=\"usercomments/\" username={pageUsername} elementType=\"comment\" />\n        )}*/}\n        <Feed route={route} username={pageUsername} elementType={element} />\n      </div>\n    </div>\n  );\n}","import React, { useState } from \"react\";\nimport { Navbar, Nav, Form } from 'react-bootstrap';\nimport ImageUploader from 'react-images-upload';\nimport \"./editprofile.css\";\n\n//module.exports(isFormValid);\n//module.exports(Login);\n\nexport default function EditProfile() {\n  const [firstName, updateFirstName] = useState(\"\");\n  const [lastName, updateLastName] = useState(\"\");\n  const [bio, updateBio] = useState(\"\");\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [successMessage, updateSuccessMessage] = useState(\"\");\n  const [image, saveImage] = useState(null);\n  const [access_token, updateToken] = useState(localStorage.getItem('access_token'));\n  window.onload = isLoggedIn(access_token);\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (isFormValid({ firstName, lastName, bio, access_token })) {\n      const body = {\n        firstname: firstName,\n        lastname: lastName,\n        biocontent: bio,\n      }\n      /*\n       * post to backend\n       */\n      const endpoint = \"http://localhost:5000/editprofile/\";\n      fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + access_token\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(data => {\n        // if (data.msg) {\n        //   window.location = \"/login\"\n        // }\n        if (data.error_message) {\n          updateErrorMessage(data.error_message);\n        } else {\n          const { access_token, refresh_token } = data;\n          updateSuccessMessage(\"Profile updated!\");\n\t\t      localStorage.setItem('access_token', access_token);\n          localStorage.setItem('refresh_token', refresh_token);\n\t\t      updateToken(localStorage.getItem('access_token'));\n        }\n      }).catch(err => {\n        console.error(err);\n        alert(\"error: check console for details\");\n      });\n\n\t}\n\t\n\tif (image !== null && image.length > 0) {\n\t  const formData = new FormData();\n\t  const lastImg = image[image.length - 1];\n\t  formData.append('image', lastImg, lastImg.name);\n\t  fetch(\"http://localhost:5000/editprofilepic/\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t  'Authorization': 'Bearer ' + access_token\n\t\t},\n\t\tbody: formData\n\t  }).then(response => response.json()).then(data => {\n\t\tconsole.log(data);\n\t  });\n\t}\n  }\n\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n  const succObject = successMessage !== \"\" ? <SuccessBubble message={successMessage} /> : null;\n\n  return (\n    <div>\n      {/* Bootstrap Stylesheet */}\n      <link\n        rel=\"stylesheet\"\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\n        crossorigin=\"anonymous\"\n      />\n      <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n        <Navbar.Brand href=\"/login\">\n          <img src=\"/img/weave-icon.svg\" width=\"50\" height=\"50\"\n            className=\"d-inline-block align-top\" alt=\"\" />\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link>Messages</Nav.Link>\n          <Nav.Link>Notifications</Nav.Link>\n          <Nav.Link>Help</Nav.Link>\n        </Nav>\n      </Navbar>\n      <h1 className=\"edit-page-title\">Update Your Information</h1>\n      <div className=\"edit-container\">\n        <img src=\"./img/weave-icon.svg\" className=\"login-icon\" alt=\"\" />\n        <form className=\"edit-form\">\n\n          <label className=\"edit-form-label\">First Name</label>\n          <input\n            value={firstName}\n            onChange={e => {\n              updateFirstName(e.target.value);\n              updateErrorMessage(\"\");\n              updateSuccessMessage(\"\");\n            }}\n            className=\"edit-form-input\"\n          />\n          <label className=\"edit-form-label\">Last Name</label>\n          <input\n            value={lastName}\n            onChange={e => {\n              updateLastName(e.target.value);\n              updateErrorMessage(\"\");\n              updateSuccessMessage(\"\");\n            }}\n            className=\"edit-form-input\"\n          />\n\n          <label className=\"edit-form-label\">Bio</label>\n          <textarea\n            value={bio}\n            onChange={e => {\n              updateBio(e.target.value);\n              updateErrorMessage(\"\");\n              updateSuccessMessage(\"\");\n            }}\n            className=\"bio-form-input\"\n          />\n\n          <label className=\"edit-form-label\">Profile Picture</label>\n          <ImageUploader\n            withIcon={true}\n            imgExtension={['.jpg', 'jpeg', '.gif', '.png', '.gif']}\n            maxFileSize={10000000}\n            buttonText='Select your profile picture.'\n            className=\"profile-pic-upload\"\n            onChange={saveImage}\n          />\n\n\n          <button type=\"submit\" className=\"edit-update-btn\" onClick={(e) => onSubmit(e)}>Update</button>\n\n        </form>\n        {errObject}\n        {succObject}\n        <a href=\"javascript:history.back()\" className=\"edit-link\">go back</a>\n      </div>\n    </div>\n  )\n}\n\nfunction isFormValid({ firstName, lastName, bio, access_token }) {\n  if (!access_token) {\n    alert(\"Invalid access token\");\n    return false;\n  }\n  return true;\n}\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"edit-error-bubble\">\n      <p className=\"edit-error-message\">{message}</p>\n    </div>\n  )\n}\n\nfunction SuccessBubble({ message }) {\n\treturn (\n\t\t<div className=\"edit-success-bubble\">\n\t\t\t<p className=\"edit-error-message\">{message}</p>\n\t\t</div>\n\t)\n}\n\nfunction isLoggedIn(access_token) {\n\tif (access_token == \"null\") {\n\t\twindow.location = \"/login\"\n\t}\n}","import React, { useState } from \"react\";\nimport \"./notfound.css\";\n\nexport default function NotFound() {\n  return (\n\t  <div className=\"error-box\">\n\t\t<img className=\"error-image\" src=\"./img/weave-icon.svg\"></img>\n\t\t<h2 className=\"error-code\">404: Page Not Found</h2>\n\t\t<p className=\"error-message\">Looks like you got tangled up, this page doesn't exist!</p>\n\t  </div>\n  )\n}","import React, { useState } from \"react\";\nimport \"./notfound.css\";\n\nexport default function Blocked() {\n  return (\n\t  <div className=\"error-box\">\n\t\t<img className=\"error-image\" src=\"./img/weave-icon.svg\"></img>\n\t\t<h2 className=\"error-code\">Blocked: Page Not Accessible</h2>\n\t\t<p className=\"error-message\">A user has blocked you from viewing this content.</p>\n\t  </div>\n  )\n}","import React, { useState, useEffect } from \"react\";\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem } from 'react-bootstrap';\nimport ImageUploader from 'react-images-upload';\n\nimport \"./createpost.css\";\n\nexport default function Timeline() {\n\tconst [postContent, updatePostContent] = useState(\"\");\n\tconst [postTitle, updatePostTitle] = useState(\"\");\n\tconst [postTopic, updatePostTopic] = useState(\"\");\n\tconst [isAnon, updateIsAnon] = useState(0);\n\tconst [image, saveImage] = useState(null);\n\tconst [errorMessage, updateErrorMessage] = useState(\"\");\n\tconst [successMessage, updateSuccessMessage] = useState(\"\");\n\t\n\tconst access_token = localStorage.getItem('access_token');\n\twindow.onload = isLoggedIn(access_token);\n\n\tuseEffect(() => {\n\t\tfetch(\"http://localhost:5000/protected\", {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + access_token\n\t\t\t}\n\t\t}).then(response => response.json()).then(data => {\n\t\t\tif (!data.logged_in) {\n\t\t\t\t// window.location.href=\"/login\";\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\talert(\"Err in console\");\n\t\t\tconsole.error(err);\n\t\t});\n\t}, []);\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\t/* More to be added for posts eventually */\n\t\tif (isFormValid({ postTitle, postContent, postTopic, updateErrorMessage, updateSuccessMessage, image })) {\n\t\t\tconst body = {\n\t\t\t\ttitle: postTitle,\n\t\t\t\tcontent: postContent,\n\t\t\t\tanon: isAnon,\n\t\t\t\ttopic: postTopic\n\t\t\t}\n\t\t\tconst endpoint = \"http://localhost:5000/createpost/\";\n\t\t\tfetch(endpoint, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Bearer ' + access_token\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t}).then(response => response.json()).then(data => {\n\t\t\t\tif (data.error_message) {\n\t\t\t\t\tupdateErrorMessage(data.error_message);\n\t\t\t\t} else {\n\n\t\t\t\t\t//TO-DO: make sure this is being sent on the right post\n\t\t\t\t\tconsole.log(image);\n\t\t\t\t\tif (image !== null && image.length > 0) {\n\t\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\t\tconst lastImg = image[image.length - 1];\n\t\t\t\t\t\tformData.append('image', lastImg, lastImg.name);\n\t\t\t\t\t\tfetch(\"http://localhost:5000/createimage/\", {\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer ' + access_token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: formData,\n\t\t\t\t\t\t}).then(response => response.json()).then(data => {\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tupdateSuccessMessage(\"Post Created!\")\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t\talert(err);\n\t\t\t});\n\n\t\t}\n\t}\n\n\tconst errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n\tconst successObject = successMessage != \"\" ? <SuccessBubble message={successMessage} /> : null;\n\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{/* Bootstrap Stylesheet */}\n\t\t\t\t<link\n\t\t\t\t\trel=\"stylesheet\"\n\t\t\t\t\thref=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\n\t\t\t\t\tintegrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\n\t\t\t\t\tcrossorigin=\"anonymous\"\n\t\t\t\t/>\n\t\t\t\t<Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n\t\t\t\t\t<Navbar.Brand href=\"/login\">\n\t\t\t\t\t\t<img src=\"/img/weave-icon.svg\" width=\"50\" height=\"50\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\" alt=\"\" />\n\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t<Nav.Link>Messages</Nav.Link>\n\t\t\t\t\t\t<Nav.Link>Notifications</Nav.Link>\n\t\t\t\t\t\t<Nav.Link>Help</Nav.Link>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar>\n\t\t\t</div>\n\t\t\t<h1 className=\"post-header\">Create a post</h1>\n\t\t\t<div className=\"post-container\">\n\t\t\t\t<form className=\"post-form\">\n\n\t\t\t\t\t<label className=\"post-form-label\">Post Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={postTitle}\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tupdatePostTitle(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"post-form-input-title\"\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<label className=\"post-form-label\">Post Topic</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={postTopic}\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tupdatePostTopic(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"post-form-input-title\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<label className=\"post-form-label\">Post Text</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tvalue={postContent}\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tupdatePostContent(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"post-form-input-body\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<label className=\"post-form-label\">Post Picture</label>\n\t\t\t\t\t<ImageUploader\n\t\t\t\t\t\twithIcon={true}\n\t\t\t\t\t\timgExtension={['.jpg', 'jpeg', '.gif', '.png', '.gif']}\n\t\t\t\t\t\tmaxFileSize={10000000}\n\t\t\t\t\t\tbuttonText='Add a picture to your post.'\n\t\t\t\t\t\tclassName=\"post-pic-upload\"\n\t\t\t\t\t\tonChange={saveImage}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"anon\"\n\t\t\t\t\t\tclassName=\"post-check-box\"\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tif (isAnon == 0){\n\t\t\t\t\t\t\t\tupdateIsAnon(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tupdateIsAnon(0);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"post-check-label\">Make this post anonymously</label>\n\n\t\t\t\t\t<button type=\"submit\" className=\"post-submit-btn\" onClick={(e) => onSubmit(e)}>Create Post</button>\n\t\t\t\t\t{errObject}\n\t\t\t\t\t{successObject}\n\t\t\t\t</form>\n\n\t\t\t\t<a href=\"javascript:history.back()\" className=\"return-link\">go back</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction isFormValid({ postTitle, postContent, postTopic, updateErrorMessage, updateSuccessMessage, image }) {\n\tupdateSuccessMessage(\"\")\n\tupdateErrorMessage(\"\")\n\tif (postTitle === \"\") {\n\t\tupdateErrorMessage(\"Please enter a title for your post.\");\n\t} else if (postContent === \"\") {\n\t\tupdateErrorMessage(\"Post body cannot be empty.\");\n\t} else if (postContent.length > 750 && image === null) {\n\t\tupdateErrorMessage(\"Post body cannot exceed 750 characters\");\n\t} else if (postContent.length > 100 && image !== null) {\n\t\tupdateErrorMessage(\"Captions cannot exceed 100 characters\");\n\t} else if (postTitle.length > 100) {\n\t\tupdateErrorMessage(\"Post title cannot exceed 100 characters\");\n\t} else if (postTopic.length > 20) {\n\t\tupdateErrorMessage(\"Post topic cannot exceed 20 characters\");\n\t} else {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction ErrorBubble({ message }) {\n\treturn (\n\t\t<div className=\"post-error-bubble\">\n\t\t\t<p className=\"post-error-message\">{message}</p>\n\t\t</div>\n\t)\n}\n\nfunction SuccessBubble({ message }) {\n\treturn (\n\t\t<div className=\"success-error-bubble\">\n\t\t\t<p className=\"post-error-message\">{message}</p>\n\t\t</div>\n\t)\n}\n\nfunction isLoggedIn(access_token) {\n\tif (access_token == \"null\") {\n\t\t// window.location = \"/login\"\n\t}\n}","import React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../Shared_Components/NavBar\";\nimport Sidebar from '../../Shared_Components/Sidebar/Sidebar';\nimport Feed from \"../../Shared_Components/Feed/Feed\";\n\nimport './savedposts.css';\n\nexport default function SavedPosts() {\n  \n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  return (\n    <div>\n      <NavBar />\n\t\t  <div className=\"saved-posts-content\">\n\t\t\t  <Sidebar />\n        <div className=\"saved-posts-container\">\n          <h1 className=\"saved-posts-heading\">Your saved posts:</h1>\n\t\t\t    <Feed route=\"savedposts/\" />\n          <a href=\"javascript:history.back()\" className=\"saved-posts-return\">go back</a>\n        </div>\n\t\t  </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\n\nimport \"./commentcreator.css\";\n\nexport default function CommentCreator({\n  postId,\n  reload\n}) {\n  const [commentContent, updateCommentContent] = useState(\"\");\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [successMessage, updateSuccessMessage] = useState(\"\");\n\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n  const successObject = successMessage != \"\" ? <SuccessBubble message={successMessage} /> : null;\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/protected\", {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      }\n    }).then(response => response.json()).then(data => {\n      if (!data.logged_in) {\n        // window.location.href = \"/login\";\n      }\n    }).catch(err => {\n      alert(\"Err in console\");\n      console.error(err);\n    });\n  }, []);\n\n  const commentpoint = \"http://localhost:5000/createcomment/\"\n  const onSubmit = (event) => {\n    event.preventDefault();\n    const body = {\n      content: commentContent,\n      post_id: postId,\n    }\n    fetch(commentpoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n      } else {\n        updateSuccessMessage(\"comment added!\");\n      }\n      reload();\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n    }).catch(err => {\n      console.error(err);\n      alert(err);\n    });\n  }\n\n  return (\n    <div>\n      <h1 className=\"comment-header\">Comment:</h1>\n      <div className=\"comment-container\">\n        <form className=\"comment-form\">\n\n          <label className=\"comment-form-label\">Comment Text</label>\n          <textarea\n            value={commentContent}\n            onChange={e => {\n              updateCommentContent(e.target.value);\n              updateSuccessMessage(\"\");\n              updateErrorMessage(\"\");\n            }}\n            className=\"comment-form-input-body\"\n          />\n\n          <button type=\"submit\" className=\"comment-submit-btn\" onClick={(e) => onSubmit(e)}>Add Comment</button>\n          {errObject}\n          {successObject}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"comment-error-bubble\">\n      <p className=\"comment-error-message\">{message}</p>\n    </div>\n  )\n}\n\nfunction SuccessBubble({ message }) {\n  return (\n    <div className=\"comment-success-bubble\">\n      <p className=\"comment-error-message\">{message}</p>\n    </div>\n  )\n}","import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport \"./postpage.css\";\n\n// import components\nimport NavBar from '../../../Shared_Components/NavBar';\nimport Sidebar from '../../../Shared_Components/Sidebar/Sidebar';\nimport Post from '../../../Shared_Components/Post/Post';\nimport Feed from \"../../../Shared_Components/Feed/Feed\";\nimport CommentCreator from '../CommentCreator/CommentCreator';\nimport { Nav, Navbar } from \"react-bootstrap\";\n\nexport default function Profile() {\n  const { post_id: pagePost } = useParams();\n\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [postdata, setPostData] = useState([]);\n  const [commentsData, setCommentsData] = useState([]);\n  {/* keeps track if user has saved or voted */ }\n  const [saveCheck, setSaved] = useState(0);\n  const [voteCheck, setVoted] = useState(0);\n  const [reloadFlag, updateReloadFlag] = useState(0);\n\n  const reload = () => {\n    updateReloadFlag(!reloadFlag);\n  }\n\n  {/* current score of post */ }\n  const [votes, setVotes] = useState(0);\n\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  const endpoint = \"http://localhost:5000/post/\" + pagePost;\n  const votepoint = \"http://localhost:5000/vote/\"\n  const savepoint = \"http://localhost:5000/save/\"\n  const statepoint = \"http://localhost:5000/poststates/\"\n  const commentpoint = \"http://localhost:5000/postcomments/\"\n\n  {/* renders the post with fetch data and the states of the save and voting buttons */ }\n  useEffect(() => {\n    fetch(endpoint, {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n    }).then(response => response.json()).then(data => {\n      if (data.error_message == \"User does not exist\") {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n\t  if (data.error_message == \"Blocked from content\"){\n\t    window.location = \"/blocked\";\n\t  }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      setPostData(data);\n      const { score } = data;\n      setVotes(score);\n    }).catch(err => {\n      console.error(err);\n\n    });\n\n    const body = {\n      post_id: pagePost,\n    }\n\n    fetch(statepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message == \"User does not exist\") {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      /* setStateData(data); */\n      const { saved, voted } = data;\n      setSaved(saved);\n      setVoted(voted);\n    }).catch(err => {\n      console.error(err);\n      alert(err);\n\n    });\n  }, [reloadFlag])\n\n  const { topic_name, date_created, post_type, pic_path, title, content, creator } = postdata;\n\n  {/* sends the votes to the server and receives the change in score */ }\n  const vote = (value) => {\n    setVoted(value);\n    const body = {\n      type: '1',\n      id: pagePost,\n      vote: value,\n    }\n    fetch(votepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message == \"User does not exist\") {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      // if (data.msg) {\n      //   window.location = \"/login\"\n      // }\n      const { change } = data;\n      setVotes(votes + change);\n    }).catch(err => {\n      console.error(err);\n\n    });\n  };\n\n  {/* sends the saved/unsaved postId to the server */ }\n  const savePost = (value) => {\n    setSaved(value);\n    const body = {\n      post: pagePost,\n      type: value,\n    }\n    fetch(savepoint, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(data => {\n      if (data.error_message == \"User does not exist\") {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      if (data.msg) {\n        window.location = \"/login\"\n      }\n    }).catch(err => {\n      console.error(err);\n\n    });\n  };\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"post-page-content\">\n        <Sidebar className=\"post-sidebar\" />\n        <div className=\"not-post-sidebar\">\n          <div className=\"post-wrapper\">\n            <Post postId={pagePost} redesign={true} />\n          </div>\n          <div className=\"comment-wrapper\">\n            <CommentCreator postId={pagePost} reload={reload} />\n          </div>\n          <p className=\"comment-heading\">Comments:</p>\n          <div className=\"comments-container\" >\n            <Feed route=\"postcomments/\" post_id={pagePost} elementType=\"comment\" reloadFlag={reloadFlag} />\n          </div>\n          <a href=\"javascript:history.back()\" className=\"topic-return\">go back</a>\n        </div>\n      </div>\n\n      {/* <div className=\"post-page-container\">\n        <div className=\"post-wrapper\">\n          <Post postId={pagePost} redesign={true} />\n        </div>\n      </div>\n      <CommentCreator postId={pagePost} />\n      <p className=\"comment-heading\">Comments:</p>\n      <div className=\"comments-container\" >\n        <Feed route=\"postcomments/\" post_id={pagePost} elementType=\"comment\" />\n      </div>\n      <a href=\"javascript:history.back()\" className=\"topic-return\">go back</a> */}\n    </div>\n\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\n\nimport NavBar from \"../../../Shared_Components/NavBar\";\nimport Sidebar from '../../../Shared_Components/Sidebar/Sidebar';\nimport Post from \"../../../Shared_Components/Post/Post\";\nimport Feed from \"../../../Shared_Components/Feed/Feed\";\nimport Follow from \"../../../Shared_Components/Follow/Follow\";\n\nimport './topicpage.css';\n\nexport default function TopicPosts() {\n  const {topic_name: topic } = useParams();\n  const [postData, setPostData] = useState([]);\n  const [topicData, setTopicData] = useState([]);\n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n\tuseEffect(() => {\n\t\tfetch('http://localhost:5000/topic/' + topic, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Bearer ' + access_token\n\t\t\t},\n\t\t}).then(response => response.json()).then(data => {\n\t\t\t//TODO- check what data.msg does\n\t\t\tconst errorMessage = data.error_message || data.msg;\n\t\t\tsetTopicData(data);\n\t\t}).catch(err => {\n\t\t  console.error(err);\n\t\t});\n  }, []);\n\n\n  const { follower_count, topic_name, follow } = topicData;\n  return (\n    <div>\n      <NavBar />\n      <div className=\"topic-container\">\n\t\t  <Sidebar />\n        {/* List of posts */}\n        <div className=\"topic-display\">\n\t\t      <h1 className=\"topic-heading\">Welcome to the <b>{topic}</b> topic:</h1>\n\t\t      <p className=\"topic-followers\">Topic Followers: {follower_count}</p>\n\t\t      <Follow className=\"topic-follow-button\" followType=\"topic\" toFollow={topic} initialState={follow}/>\n          <Feed route=\"topicposts/\" topic={topic} />\n\t\t      <a href=\"javascript:history.back()\" className=\"topic-return\">go back</a>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../../Shared_Components/NavBar\";\nimport Sidebar from '../../../Shared_Components/Sidebar/Sidebar';\nimport Post from \"./../../../Shared_Components/Post/Post\";\nimport Feed from \"../../../Shared_Components/Feed/Feed\";\nimport './timeline.css';\n\nexport default function TimelinePosts() {\n  \n  let access_token = localStorage.getItem('access_token');\n  if (!access_token) {\n    access_token = \"\";\n  }\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"timeline-container\">\n        {/* List of posts */}\n\t\t    <Sidebar />\n        <div className=\"timeline-display\">\n\t\t      <h1 className=\"timeline-heading\">Your timeline:</h1>\n          <Feed route=\"timeline\"/>\n\t\t      <a href=\"javascript:history.back()\" className=\"timeline-return\">go back</a>\n        </div>        \n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport NavBar from '../../Shared_Components/NavBar';\nimport Sidebar from '../../Shared_Components/Sidebar/Sidebar';\nimport './settings.css';\n\nexport default function Settings(){\n\n\tconst [currPass, updateCurrPass] = useState(\"\");\n\tconst [newPass, updateNewPass] = useState(\"\");\n\tconst [newUser, updateNewUser] = useState(\"\");\n\tconst [newEmail, updateNewEmail] = useState(\"\");\n\tconst [deleteErrorMessage, updateDeleteErrorMessage] = useState(\"\");\n\tconst [normalErrorMessage, updateNormalErrorMessage] = useState(\"\");\n\tconst [successMessage, updateSuccessMessage] = useState(\"\");\n\tconst [access_token, updateToken] = useState(localStorage.getItem('access_token'));\n\tif (access_token == null) {\n\t\twindow.location = '/login';\n\t}\n\n\t// Delete Account Function\n\tconst DeleteAccount = (event) => {\n\t\t\n\t\tevent.preventDefault();\n\t\tconst JSONbody = {\n\t\t\tpassword: currPass,\n\t\t}\n\n\t\tconst deletepoint = \"http://localhost:5000/deleteaccount/\";\n\t\tfetch(deletepoint, {\n      \t\tmethod: 'POST',\n      \t\theaders: {\n        \t\t'Content-Type': 'application/json',\n        \t\t'Authorization': 'Bearer ' + access_token\n\t\t\t  },\n\t\t\t  body: JSON.stringify(JSONbody)\n    \t}).then(response => response.json()).then(data => {\n\t\t\t\n\t\t\t// Catches errors\n\t\t\tconst errorMessage = data.error_message || data.msg;\n      \t\tif (errorMessage) {\n\t\t\t\tupdateDeleteErrorMessage(data.error_message);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t\n\t\t\t\t// Blacklists the current JWT tokens; mirrors logout.\n\t\t\t\tconst access_token = localStorage.getItem('access_token');\n\t\t\t\tconst logoutEndpoint = \"http://localhost:5000/logout\";\n\t\t\t\tfetch(logoutEndpoint, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Bearer ' + access_token\n\t\t\t\t},\n\t\t\t\t}).then(response => response.json()).then(data => {\n\t\t\t\tconst { refresh_token } = data;\n\t\t\t\tconst endpoint2 = \"http://localhost:5000/logout2\";\n\t\t\t\tfetch(endpoint2, {\n\t\t\t\t\tmethod: \"DELETE\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': 'Bearer ' + refresh_token\n\t\t\t\t\t},\n\t\t\t\t}).then(response => response.json()).then(data => {\n\t\t\t\t\tlocalStorage.clear(\"access_token\");\n\t\t\t\t\tlocalStorage.clear(\"refresh_token\");\n\t\t\t\t\t// window.location = \"/login\";\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\talert(\"error: check console for details\");\n\t\t\t\t});\n\t\t\t\t}).catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t\talert(\"error: check console for details\");\n\t\t\t\t});\n\t\t\t\t// End JWT Blacklist\n\t\t\t\n\t\t\t}  \n\n    \t}).catch(err => {\n      \t\tconsole.error(err);\n    \t});\n\t}\n\t// End Delete Account\n\n\t// Update settings Function\n\tconst UpdateSettings = (event) => {\n\t\t\n\t\tevent.preventDefault();\n\t\tconst JSONbody = {\n\t\t\tcurrentpass: currPass,\n\t\t\tnewemail: newEmail,\n\t\t\tnewpass: newPass,\n\t\t\tnewusername: newUser,\n\t\t\tprivacy: 0,\n\t\t}\n\n\t\tconst endpoint = \"http://localhost:5000/editsettings/\";\n\t\tfetch(endpoint, {\n      \t\tmethod: 'POST',\n      \t\theaders: {\n        \t\t'Content-Type': 'application/json',\n        \t\t'Authorization': 'Bearer ' + access_token\n\t\t\t},\n\t\t\tbody: JSON.stringify(JSONbody)\n\t\t}).then(response => response.json()).then(data => {\n\t\t\t\n\t\t\t// Catches errors\n\t\t\tconst errorMessage = data.error_message || data.msg;\n\t\t\tif (errorMessage) {\n\t\t\t\tupdateNormalErrorMessage(data.error_message);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst { access_token, refresh_token } = data;\n\t\t\t\tlocalStorage.setItem('access_token', access_token);\n\t\t\t\tlocalStorage.setItem('refresh_token', refresh_token);\n\t\t\t\tupdateToken(localStorage.getItem('access_token'));\n\t\t\t\tupdateSuccessMessage(\"Settings updated!\");\n\t\t\t}\n\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\t\t// End Update Settings Function\n\t}\n\n\tconst deleteErrObject = deleteErrorMessage !== \"\" ? <ErrorBubble message={deleteErrorMessage} /> : null;\n\tconst normalErrObject = normalErrorMessage !== \"\" ? <ErrorBubble message={normalErrorMessage} /> : null;\n\tconst succObject = successMessage !== \"\" ? <SuccessBubble message={successMessage} /> : null;\n\n\treturn (\n\t    <div>\n\t\t<NavBar />\n\t\t\t<div className=\"settings-container\">\n\t\t\t\t<Sidebar />\t\n\t\t\t\t<div className=\"settings-display\">\n\t\t\t\t\t<h1 className=\"settings-heading\">Modify your settings</h1>\n\t\t\t\t\t<div className=\"settings-form-box\">\n\t\t\t\t\t\t<form className=\"settings-form\">\n\n\t\t\t\t\t\t\t<label className=\"settings-label\">Enter your current password:</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tvalue={currPass}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tupdateCurrPass(e.target.value);\n\t\t\t\t\t\t\t\t\tupdateDeleteErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateNormalErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateSuccessMessage(\"\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"settings-input\" \n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<hr className=\"settings-divider\"/>\n\n\t\t\t\t\t\t\t<label className=\"settings-label\">Enter a new password:</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tvalue={newPass}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tupdateNewPass(e.target.value);\n\t\t\t\t\t\t\t\t\tupdateDeleteErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateNormalErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateSuccessMessage(\"\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"settings-input\" \n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<label className=\"settings-label\">Enter a new username:</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tvalue={newUser}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tupdateNewUser(e.target.value);\n\t\t\t\t\t\t\t\t\tupdateDeleteErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateNormalErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateSuccessMessage(\"\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"settings-input\" \n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<label className=\"settings-label\">Enter a new email:</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tvalue={newEmail}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tupdateNewEmail(e.target.value);\n\t\t\t\t\t\t\t\t\tupdateDeleteErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateNormalErrorMessage(\"\");\n\t\t\t\t\t\t\t\t\tupdateSuccessMessage(\"\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"settings-input\" \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<hr className=\"settings-divider\"/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<a href=\"/blockedusers\" >Blocked Users</a> <br />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<hr className=\"settings-divider\"/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tclassName=\"settings-checkbox\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"settings-label-header\">Activate privacy mode</label>\n\t\t\t\t\t\t\t<label className=\"settings-label\">When privacy mode is activated, you will not receieve direct messages from anyone but the users you have followed.</label>\n\n\n\t\t\t\t\t\t\t<button className=\"settings-button\" onClick={(e) => UpdateSettings(e)}>Update Settings</button>\n\t\t\t\t\t\t\t{normalErrObject}\n\t\t\t\t\t\t\t{succObject}\n\n\t\t\t\t\t\t\t<hr className=\"settings-divider\"/>\n\n\t\t\t\t\t\t\t<label className=\"delete-label\">If you are ready to end your time here on Weave, enter your password and then click the button below. THIS ACTION CANNOT BE UNDONE.</label>\n\n\t\t\t\t\t\t\t<button className=\"delete-button\" onClick={(e) => DeleteAccount(e)}>Delete My Account</button>\n\t\t\t\t\t\t\t{deleteErrObject}\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n} \n\nfunction ErrorBubble({ message }) {\n\treturn (\n\t  <div className=\"edit-error-bubble\">\n\t\t<p className=\"edit-error-message\">{message}</p>\n\t  </div>\n\t)\n}\n\nfunction SuccessBubble({ message }) {\n\treturn (\n\t\t<div className=\"edit-success-bubble\">\n\t\t\t<p className=\"edit-error-message\">{message}</p>\n\t\t</div>\n\t)\n}\n","import React, { useState, useEffect } from 'react';\n\nimport NavBar from '../../Shared_Components/NavBar';\nimport Sidebar from '../../Shared_Components/Sidebar/Sidebar';\nimport Feed from \"../../Shared_Components/Feed/Feed\";\n\nexport default function BlockedUsers(){\t\n\t\n\treturn (\n\t    <div>\n\t\t<NavBar />\n\t\t\t<div className=\"settings-container\">\n\t\t\t\t<Sidebar />\t\n\t\t\t\t<Feed route=\"blockedusers/\" elementType=\"profile\"/>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n}","import React, { useState, useEffect } from \"react\";\n\nimport \"./message.css\";\n\nexport default function Comment({\n  messageId\n}) {\n\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const [messageData, setMessageData] = useState([]);\n\n  let access_token = localStorage.getItem('access_token');\n  if (access_token == null) {\n    window.location = \"/login\"\n  }\n\n  const endpoint = \"http://localhost:5000/message/\" + messageId + \"/\";\n\n  {/* renders the post with fetch data and the states of the save and voting buttons */ }\n  useEffect(() => {\n    fetch(endpoint, {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + access_token\n      },\n    }).then(response => response.json()).then(data => {\n      if (data.error_message) {\n        updateErrorMessage(data.error_message);\n        window.location = \"/404\"\n      }\n      /* catches jwt errors that don't use the form \"error_message:\" */\n      setMessageData(data);\n    }).catch(err => {\n      console.error(err);\n\n    });\n  }, [])\n\n  const { date_created, content, receiver} = messageData;\n\n  return (\n    <div>\n        <div className=\"message-sender-container\">\n            {/* align these better later */}\n            <p className=\"message-text\">{date_created}</p>\n            <p className=\"message-text\">{receiver}</p>\n            <p className=\"message-content\">{content}</p>\n        </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport Message from '../Chat/Message'\n\nimport \"./display.css\";\n\nexport default function ChatDisplay({sender}) {\n    const [messageContent, setMessageContent] = useState([]);\n    const [messageData, setMessageData] = useState([]);\n    const access_token = localStorage.getItem('access_token');\n    if (access_token == null) {\n      window.location = \"/login\"\n    }\n  \n    useEffect(() => {\n      const endpoint = \"http://localhost:5000/allmessages/\"\n      //console.log(endpoint)\n      const body = {\n        start: 0,\n        end: 10\n      }\n      fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + access_token\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(data => {\n        const { pull_list: message_ids, rowCount: rowCount } = data;\n        setMessageData(message_ids);\n      }).catch(err => {\n        console.log(err);\n      });\n    }, []);\n    \n    useEffect(() => {\n      let tester = [];\n      if (messageData) {\n        messageData.forEach((messageId) => {\n          console.log(messageId)\n          tester.push(<Message key={messageId} messageId={messageId} user1={sender}/>)\n        });\n        setMessageContent(tester);\n        if (messageContent.length === 0) {\n          tester = <p>No Posts!</p>;\n        }\n      }\n    }, [messageData])\n  \n    return (\n      <div className=\"messages-display\">\n        {messageContent}\n      </div>\n    );\n  }","import React, { useState } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport NavBar from \"../Shared_Components/NavBar\";\nimport Sidebar from '../Shared_Components/Sidebar/Sidebar';\nimport ChatDisplay from '../Chat/ChatDisplay'\n\nimport \"./chat.css\";\n\n//module.exports(isFormValid);\n//module.exports(Login);\n\nexport default function Chat() {\n  const { username: sender } = useParams();\n\n  const [message, uploadChatMessage] = useState(\"\")\n  const [receiver, setReceiver] = useState(\"\")\n  const [errorMessage, updateErrorMessage] = useState(\"\");\n  const access_token = localStorage.getItem('access_token');\n  if (access_token == null) {\n    window.location = \"/login\"\n  }\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (isMessageValid({ message: message, receiver: receiver, updateErrorMessage })) {\n      const body = {\n        content: message,\n        receiver: receiver,\n      }\n      console.log(body)\n      const endpoint = \"http://localhost:5000/createmessage/\";\n      fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + access_token\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(data => {\n        if (data.error_message) {\n          updateErrorMessage(data.error_message);\n        } else {\n\n        }\n      }).catch(err => {\n        console.error(err);\n        alert(\"error: check console for details\");\n      });\n    }\n  }\n\n  const errObject = errorMessage !== \"\" ? <ErrorBubble message={errorMessage} /> : null;\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"chat-container\">\n        <Sidebar />\n        <div className=\"chat-content\">\n          <ChatDisplay sender={sender} />\n          <form className=\"chat-form\">\n            <label className=\"chat-form-label\">Message</label>\n            <input\n              value={message}\n              onChange={e => {\n                uploadChatMessage(e.target.value);\n                updateErrorMessage(\"\");\n              }} className=\"chat-form-input\"\n            />\n            <label className=\"chat-form-label\">Receiver</label>\n            <input\n              value={receiver}\n              onChange={e => {\n                setReceiver(e.target.value);\n                updateErrorMessage(\"\");\n              }} className=\"chat-form-input\"\n            />\n            <button type=\"submit\" className=\"chat-submit-btn\" onClick={(e) => onSubmit(e)}>Send Message</button>\n          </form>\n          {errObject}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction isMessageValid({ message, receiver, updateErrorMessage }) {\n  if (message === \"\") {\n    updateErrorMessage(\"Please enter a message.\");\n  }\n  else if (receiver === \"\") {\n    updateErrorMessage(\"Please enter a receiver.\");\n  }\n  else {\n    return true;\n  }\n  return false;\n}\n\nfunction ErrorBubble({ message }) {\n  return (\n    <div className=\"chat-error-bubble\">\n      <p className=\"chat-error-message\">{message}</p>\n    </div>\n  )\n}","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport Login from \"./pages/auth/Login/Login\";\nimport Register from \"./pages/auth/Register/Register\";\nimport Profile from \"./user_info/Profile/Profile\";\nimport EditProfile from \"./user_info/Profile/EditProfile\";\nimport NotFound from \"./error_pages/NotFound\";\nimport Blocked from \"./error_pages/Blocked\";\nimport CreatePost from \"./pages/post_info/CreatePost/CreatePost\";\nimport SavedPosts from './user_info/SavedPosts/SavedPosts';\nimport PostPage from './pages/post_info/PostPage/PostPage';\nimport TopicPage from './pages/post_info/Topics/TopicPage';\nimport Timeline from './pages/post_info/Timeline/Timeline';\nimport Settings from \"./user_info/Settings/Settings\";\nimport BlockedUsers from \"./user_info/BlockedUsers/BlockedUsers\";\nimport Chat from \"./Chat/Chat\"\n//import ForgotPassword from \"./auth/ForgotPassword/ForgotPassword\";\n// import PostPage from \"./pages/PostsPage/PostsPage\";\n\nfunction AppRouter() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Login />\n        </Route>\n        <Route path=\"/resetpassword\">\n          {/*<ForgotPassword />*/}\n        </Route>\n        <Route path=\"/savedposts\">\n          <SavedPosts />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile />\n        </Route>\n        <Route path=\"/profile\">\n          <Profile />\n        </Route>\n        <Route path=\"/editprofile\">\n          <EditProfile />\n        </Route>\n        <Route path=\"/chat/:username\">\n          <Chat />\n        </Route>\n\t\t<Route path=\"/settings\">\n\t\t  <Settings />\n\t\t</Route>\n        <Route path=\"/timeline\">\n          <Timeline />\n        </Route>\n        <Route path=\"/createpost\">\n          <CreatePost />\n        </Route>\n        <Route path=\"/post/:post_id\">\n          <PostPage />\n        </Route>\n        <Route path=\"/topic/:topic_name\">\n          <TopicPage />\n        </Route>\n\t\t<Route path=\"/blocked\">\n\t\t  <Blocked />\n\t\t</Route>\n\t\t<Route path=\"/blockedusers\">\n\t\t  <BlockedUsers />\n\t\t</Route>\n        <Route path=\"/\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppRouter />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}